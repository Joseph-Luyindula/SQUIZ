{% extends 'base.html' %}

{% block title %}Aide et FAQ - SQUIZ{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-squiz-dark mb-4">Aide & FAQ</h1>
        <p class="text-xl text-gray-600">Trouvez rapidement les réponses à vos questions</p>
    </div>

    <!-- Search Bar -->
    <div class="mb-8">
        <div class="max-w-md mx-auto">
            <div class="relative">
                <input type="text" 
                       id="faq-search" 
                       placeholder="Rechercher dans la FAQ..." 
                       class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-squiz-blue focus:border-transparent">
                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
            </div>
        </div>
    </div>

    <!-- FAQ Categories -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
        <div class="bg-white rounded-lg shadow-md p-6 text-center hover:shadow-lg transition-shadow cursor-pointer" onclick="scrollToSection('getting-started')">
            <i class="fas fa-rocket text-squiz-blue text-3xl mb-4"></i>
            <h3 class="text-lg font-semibold text-squiz-dark mb-2">Premiers pas</h3>
            <p class="text-gray-600">Comment commencer sur SQUIZ</p>
        </div>
        <div class="bg-white rounded-lg shadow-md p-6 text-center hover:shadow-lg transition-shadow cursor-pointer" onclick="scrollToSection('gameplay')">
            <i class="fas fa-gamepad text-squiz-blue text-3xl mb-4"></i>
            <h3 class="text-lg font-semibold text-squiz-dark mb-2">Jeu</h3>
            <p class="text-gray-600">Règles et fonctionnement</p>
        </div>
        <div class="bg-white rounded-lg shadow-md p-6 text-center hover:shadow-lg transition-shadow cursor-pointer" onclick="scrollToSection('account')">
            <i class="fas fa-user-cog text-squiz-blue text-3xl mb-4"></i>
            <h3 class="text-lg font-semibold text-squiz-dark mb-2">Compte</h3>
            <p class="text-gray-600">Gestion de votre profil</p>
        </div>
    </div>

    <!-- FAQ Sections -->
    <div class="space-y-8">
        <!-- Getting Started -->
        <div id="getting-started" class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-2xl font-bold text-squiz-dark mb-6 flex items-center">
                <i class="fas fa-rocket text-squiz-blue mr-3"></i>
                Premiers pas
            </h2>
            
            <div class="space-y-4">
                <div class="faq-item border-b border-gray-200 pb-4">
                    <button class="faq-question w-full text-left flex items-center justify-between py-2 text-lg font-semibold text-squiz-dark hover:text-squiz-blue">
                        Comment créer un compte ?
                        <i class="fas fa-chevron-down transform transition-transform"></i>
                    </button>
                    <div class="faq-answer hidden mt-2 text-gray-600">
                        <p>Pour créer un compte, cliquez sur "S'inscrire" dans le menu de navigation. Remplissez le formulaire avec vos informations personnelles : nom d'utilisateur, email, mot de passe, etc. Une fois votre compte créé, vous pourrez immédiatement commencer à jouer aux quiz.</p>
                    </div>
                </div>

                <div class="faq-item border-b border-gray-200 pb-4">
                    <button class="faq-question w-full text-left flex items-center justify-between py-2 text-lg font-semibold text-squiz-dark hover:text-squiz-blue">
                        Comment choisir ma première catégorie ?
                        <i class="fas fa-chevron-down transform transition-transform"></i>
                    </button>
                    <div class="faq-answer hidden mt-2 text-gray-600">
                        <p>Rendez-vous dans la section "Catégories" pour découvrir tous les domaines disponibles. Chaque catégorie affiche le nombre de questions et le niveau de difficulté. Nous recommandons de commencer par vos domaines de prédilection pour prendre confiance.</p>
                    </div>
                </div>

                <div class="faq-item border-b border-gray-200 pb-4">
                    <button class="faq-question w-full text-left flex items-center justify-between py-2 text-lg font-semibold text-squiz-dark hover:text-squiz-blue">
                        Qu'est-ce que les XP ?
                        <i class="fas fa-chevron-down transform transition-transform"></i>
                    </button>
                    <div class="faq-answer hidden mt-2 text-gray-600">
                        <p>Les XP (points d'expérience) représentent votre progression sur SQUIZ. Vous gagnez des XP en répondant correctement aux questions, en terminant des quiz et en accomplissant des défis. Plus vous accumulez d'XP, plus votre rang dans le classement augmente.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Gameplay -->
        <div id="gameplay" class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-2xl font-bold text-squiz-dark mb-6 flex items-center">
                <i class="fas fa-gamepad text-squiz-blue mr-3"></i>
                Jeu
            </h2>
            
            <div class="space-y-4">
                <div class="faq-item border-b border-gray-200 pb-4">
                    <button class="faq-question w-full text-left flex items-center justify-between py-2 text-lg font-semibold text-squiz-dark hover:text-squiz-blue">
                        Comment fonctionnent les catégories de joueurs ?
                        <i class="fas fa-chevron-down transform transition-transform"></i>
                    </button>
                    <div class="faq-answer hidden mt-2 text-gray-600">
                        <p>Il existe 6 catégories de joueurs basées sur votre niveau :</p>
                        <ul class="list-disc list-inside mt-2 space-y-1">
                            <li><span class="font-semibold">Argent (E)</span> - Débutant</li>
                            <li><span class="font-semibold">Or (D)</span> - Intermédiaire</li>
                            <li><span class="font-semibold">Saphir (C)</span> - Confirmé</li>
                            <li><span class="font-semibold">Rubis (B)</span> - Expert</li>
                            <li><span class="font-semibold">Émeraude (A)</span> - Maître</li>
                            <li><span class="font-semibold">Diamant (S)</span> - Légende</li>
                        </ul>
                    </div>
                </div>

                <div class="faq-item border-b border-gray-200 pb-4">
                    <button class="faq-question w-full text-left flex items-center justify-between py-2 text-lg font-semibold text-squiz-dark hover:text-squiz-blue">
                        Comment gagner des badges ?
                        <i class="fas fa-chevron-down transform transition-transform"></i>
                    </button>
                    <div class="faq-answer hidden mt-2 text-gray-600">
                        <p>Les badges se gagnent en accomplissant des objectifs spécifiques : terminer votre premier quiz, obtenir un score parfait, jouer plusieurs jours consécutifs, maîtriser une catégorie, etc. Consultez la section "Badges" pour voir tous les défis disponibles et votre progression.</p>
                    </div>
                </div>

                <div class="faq-item border-b border-gray-200 pb-4">
                    <button class="faq-question w-full text-left flex items-center justify-between py-2 text-lg font-semibold text-squiz-dark hover:text-squiz-blue">
                        Combien de temps ai-je pour répondre ?
                        <i class="fas fa-chevron-down transform transition-transform"></i>
                    </button>
                    <div class="faq-answer hidden mt-2 text-gray-600">
                        <p>Vous avez 30 secondes pour répondre à chaque question. Un timer visible vous indique le temps restant. Si vous ne répondez pas dans les temps, la question est considérée comme incorrecte et le quiz passe automatiquement à la question suivante.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Account -->
        <div id="account" class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-2xl font-bold text-squiz-dark mb-6 flex items-center">
                <i class="fas fa-user-cog text-squiz-blue mr-3"></i>
                Compte
            </h2>
            
            <div class="space-y-4">
                <div class="faq-item border-b border-gray-200 pb-4">
                    <button class="faq-question w-full text-left flex items-center justify-between py-2 text-lg font-semibold text-squiz-dark hover:text-squiz-blue">
                        Comment modifier mon profil ?
                        <i class="fas fa-chevron-down transform transition-transform"></i>
                    </button>
                    <div class="faq-answer hidden mt-2 text-gray-600">
                        <p>Rendez-vous dans votre profil en cliquant sur "Profil" dans le menu. Vous pourrez y modifier votre photo de profil, vos informations personnelles et vos préférences. N'oubliez pas de sauvegarder vos modifications.</p>
                    </div>
                </div>

                <div class="faq-item border-b border-gray-200 pb-4">
                    <button class="faq-question w-full text-left flex items-center justify-between py-2 text-lg font-semibold text-squiz-dark hover:text-squiz-blue">
                        Comment réinitialiser mon mot de passe ?
                        <i class="fas fa-chevron-down transform transition-transform"></i>
                    </button>
                    <div class="faq-answer hidden mt-2 text-gray-600">
                        <p>Sur la page de connexion, cliquez sur "Mot de passe oublié". Entrez votre adresse email et vous recevrez un lien pour réinitialiser votre mot de passe. Suivez les instructions dans l'email pour créer un nouveau mot de passe.</p>
                    </div>
                </div>

                <div class="faq-item border-b border-gray-200 pb-4">
                    <button class="faq-question w-full text-left flex items-center justify-between py-2 text-lg font-semibold text-squiz-dark hover:text-squiz-blue">
                        Mes données sont-elles sécurisées ?
                        <i class="fas fa-chevron-down transform transition-transform"></i>
                    </button>
                    <div class="faq-answer hidden mt-2 text-gray-600">
                        <p>Oui, nous prenons la sécurité de vos données très au sérieux. Toutes les informations sont chiffrées et stockées de manière sécurisée. Nous ne partageons jamais vos données personnelles avec des tiers sans votre consentement explicite.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Support -->
    <div class="bg-squiz-blue rounded-lg p-8 text-center text-white mt-12">
        <h2 class="text-2xl font-bold mb-4">Vous ne trouvez pas votre réponse ?</h2>
        <p class="mb-6">Notre équipe support est là pour vous aider</p>
        <a href="mailto:support@squiz.com" class="bg-white text-squiz-blue px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors inline-flex items-center">
            <i class="fas fa-envelope mr-2"></i>
            Contacter le support
        </a>
    </div>
</div>

<script>
    // FAQ functionality
    const faqQuestions = document.querySelectorAll('.faq-question');
    const searchInput = document.getElementById('faq-search');

    // Toggle FAQ answers
    faqQuestions.forEach(question => {
        question.addEventListener('click', () => {
            const answer = question.nextElementSibling;
            const icon = question.querySelector('i');
            
            answer.classList.toggle('hidden');
            icon.classList.toggle('rotate-180');
        });
    });

    // Search functionality
    searchInput.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase();
        const faqItems = document.querySelectorAll('.faq-item');
        
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question').textContent.toLowerCase();
            const answer = item.querySelector('.faq-answer').textContent.toLowerCase();
            
            if (question.includes(searchTerm) || answer.includes(searchTerm)) {
                item.style.display = 'block';
            } else {
                item.style.display = 'none';
            }
        });
    });

    // Scroll to section
    function scrollToSection(sectionId) {
        document.getElementById(sectionId).scrollIntoView({
            behavior: 'smooth'
        });
    }
</script>
{% endblock %}
